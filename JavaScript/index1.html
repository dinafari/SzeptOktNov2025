<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        //1) Felhasználók egyesítése és deduplikálása

        //Bemenet:const a = [{id:1, nev:"Anna"}, {id:2, nev:"Béla"}];
        //const b = [{id:2, nev:"Béla"}, {id:3, nev:"Csilla"}];
            

        const a = [{id:1, nev:"Anna"}, {id:2, nev:"Béla"}];
        const b = [{id:2, nev:"Béla"}, {id:3, nev:"Csilla"}];

        //Feladat: egyesítsd a két tömböt id alapján deduplikálva, majd rendezd nev szerint ábécébe.
        //Kimenet: [{id:1,"Anna"}, {id:2,"Béla"}, {id:3,"Csilla"}]

        function egyesitDeduplikalRendez(...listak) {
            const idToUser = new Map();
            listak.flat().forEach(u => idToUser.set(u.id, u)); // utolsó előfordulás marad
            return [...idToUser.values()].sort((x, y) => x.nev.localeCompare(y.nev));
        }

        console.log(egyesitDeduplikalRendez(a, b));
        // → [ {id:1, nev:"Anna"}, {id:2, nev:"Béla"}, {id:3, nev:"Csilla"} ]

      
        /*
            2) Szavak gyakorisága – top 3

            Bemenet: tetszőleges mondat (pl. const s = "Alma, alma! körte alma: barack körte";)
            Feladatok:

            Normalizáld (kisbetű, írásjelek eltávolítása).

            Számold a gyakoriságot.

            Add vissza a top 3 szót [["alma",3],["körte",2],["barack",1]] formában.
        
        
        
        */

        const s = "Alma, alma! körte alma: barack körte";
            function top3Szavak(mondat) {
                // 1) normalizálás
                const tiszta = mondat
                .toLowerCase()
                .replace(/[.,!?;:()\[\]{}"']/g, " ");
                // 2) tokenizálás (szavak)
                const szavak = tiszta.split(/\s+/).filter(Boolean);
                // 3) gyakoriság
                const freq = {};
                for (const szo of szavak) {
                    freq[szo] = (freq[szo] || 0) + 1;
                }
                // 4) rendezés és top 3
                return Object.entries(freq)
                .sort((a, b) => b[1] - a[1])  // gyakoriság szerint csökkenő
                .slice(0, 3);
            }

            console.log(top3Szavak(s));
            // → [ ["alma",3], ["körte",2], ["barack",1] ]
        

        /*

            3) 

            Bemenet:

            const tx = [
            { tipus:"bevetel", osszeg: 1000 },
            { tipus:"kiadas",  osszeg: 400  },
            { tipus:"bevetel", osszeg: 500  }
            ];


            Feladatok:

            osszesites(tx) → { bevetel: 1500, kiadas: 400 }

            egyenleg(tx) → 1100

          
        
        
        
        */

        
        const tx = [
        { tipus:"bevetel", osszeg: 1000 },
        { tipus:"kiadas",  osszeg: 400  },
        { tipus:"bevetel", osszeg: 500  }
        ];

        function osszesites(trx) {
            const bevetel = trx
            .filter(t => t.tipus === "bevetel")
            .reduce((sum, t) => sum + t.osszeg, 0);

            const kiadas = trx
            .filter(t => t.tipus === "kiadas")
            .reduce((sum, t) => sum + t.osszeg, 0);

            return { bevetel, kiadas };
        }

        function egyenleg(trx) {
            const { bevetel, kiadas } = osszesites(trx);
            return bevetel - kiadas;
        }

        console.log(osszesites(tx)); // { bevetel: 1500, kiadas: 400 }
        console.log(egyenleg(tx));   // 1100

        /*
            Vagy 1 lépésben:

            function osszesites1Pass(trx) {
                return trx.reduce((acc, t) => {
                    if (t.tipus === "bevetel") acc.bevetel += t.osszeg;
                    else if (t.tipus === "kiadas") acc.kiadas += t.osszeg;
                    return acc;
                },{ bevetel: 0, kiadas: 0 });
            }
         
         
        */

        






    </script>
    
</body>
</html>
